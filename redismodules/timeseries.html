<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="next" title="连接到 Redis (Connecting to Redis)" href="../connections.html" /><link rel="prev" title="RediSearch 命令" href="search.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>RedisTimeSeries 命令 - redis-py 5.1.1 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">redis-py 5.1.1 文档</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo-redis.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">redis-py 5.1.1 文档</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">索引</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../commands/index.html">Redis 命令</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Redis 命令</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../commands/core.html">核心命令(Core Commands)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/sentinel.html">哨兵命令(Sentinel Commands)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/cluster.html">Redis 集群命令(Cluster Commands)</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Redis 模块命令(Modules Commands)</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Redis 模块命令(Modules Commands)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bloom.html">RedisBloom 命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph.html">RedisGraph 命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="json.html">RedisJSON 命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="search.html">RediSearch 命令</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">RedisTimeSeries 命令</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../connections.html">连接到 Redis (Connecting to Redis)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clustering.html">集群(Clustering)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions.html">异常(Exceptions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backoff.html">回退(Backoff)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lock.html">锁(Lock)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../retry.html">重试工具(Retry Helpers)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lua_scripting.html">Lua脚本(Lua Scripting)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../opentelemetry.html">集成 OpenTelemetry(Integrating)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resp3_features.html">RESP 3 功能(RESP 3 Features)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_features.html">高级功能(Advanced Features)</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../examples.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/connection_examples.html">连接示例(Connection Examples)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/ssl_connection_examples.html">SSL 连接示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/asyncio_examples.html">异步示例(Asyncio Examples)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/search_json_examples.html">索引 / 查询 JSON 文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/set_and_get_examples.html"><code class="docutils literal notranslate"><span class="pre">set</span></code> 和 <code class="docutils literal notranslate"><span class="pre">get</span></code> 基本操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/search_vector_similarity_examples.html">向量相似度(Vector Similarity)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/pipeline_examples.html">管道示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/timeseries_examples.html">时间序列(Timeseries)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/redis-stream-example.html">Redis 流示例(Stream Examples)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/redis-stream-example.html#流组(Stream-groups)">流组(Stream groups)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/opentelemetry_api_examples.html">OpenTelemetry Python API</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/redis/redis-py/blob/master/docs/redismodules/timeseries.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/redis/redis-py/edit/master/docs/redismodules/timeseries.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="redistimeseries">
<h1>RedisTimeSeries 命令<a class="headerlink" href="#redistimeseries" title="Link to this heading">¶</a></h1>
<p>这些是用于与 <a class="reference external" href="https://redistimeseries.io">RedisTimeSeries 模块</a> 交互的命令。下面是一个简短的示例，以及命令本身的文档。</p>
<p><strong>创建一个保留时间为 5 秒的时间序列对象</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">redis</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">Redis</span><span class="p">()</span>
<span class="n">r</span><span class="o">.</span><span class="n">ts</span><span class="p">()</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">retention_msecs</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class" id="module-redis.commands.timeseries.commands">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">redis.commands.timeseries.commands.</span></span><span class="sig-name descname"><span class="pre">TimeSeriesCommands</span></span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands" title="Link to this definition">¶</a></dt>
<dd><p>RedisTimeSeries Commands.</p>
<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retention_msecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncompressed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duplicate_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_time_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_val_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_duplicate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.add"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.add" title="Link to this definition">¶</a></dt>
<dd><p>Append a sample to a time series. When the specified key does not exist, a new
time series is created.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.add/">https://redis.io/commands/ts.add/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- The time-series key.</p></li>
<li><p><strong>timestamp</strong> (<em>int</em><em> | </em><em>str</em>) -- Timestamp of the sample. <cite>*</cite> can be used for automatic timestamp (using
the system clock).</p></li>
<li><p><strong>value</strong> (<em>int</em><em> | </em><em>float</em>) -- Numeric data value of the sample.</p></li>
<li><p><strong>retention_msecs</strong> (<em>int</em><em> | </em><em>None</em>) -- Maximum age for samples, compared to the highest reported timestamp in
milliseconds. If <cite>None</cite> or <cite>0</cite> is passed, the series is not trimmed at
all.</p></li>
<li><p><strong>uncompressed</strong> (<em>bool</em><em> | </em><em>None</em>) -- Changes data storage from compressed (default) to uncompressed.</p></li>
<li><p><strong>labels</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>None</em>) -- A dictionary of label-value pairs that represent metadata labels of the
key.</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em><em> | </em><em>None</em>) -- Memory size, in bytes, allocated for each data chunk. Must be a multiple
of 8 in the range <cite>[48..1048576]</cite>. In earlier versions of the module the
minimum value was different.</p></li>
<li><p><strong>duplicate_policy</strong> (<em>str</em><em> | </em><em>None</em>) -- <p>Policy for handling multiple samples with identical timestamps. Can be
one of:</p>
<ul>
<li><p>'block': An error will occur and the new value will be ignored.</p></li>
<li><p>'first': Ignore the new value.</p></li>
<li><p>'last': Override with the latest value.</p></li>
<li><p>'min': Only override if the value is lower than the existing value.</p></li>
<li><p>'max': Only override if the value is higher than the existing value.</p></li>
<li><p>'sum': If a previous sample exists, add the new sample to it so
that the updated value is equal to (previous + new). If no
previous sample exists, set the updated value equal to the new
value.</p></li>
</ul>
</p></li>
<li><p><strong>ignore_max_time_diff</strong> (<em>int</em><em> | </em><em>None</em>) -- A non-negative integer value, in milliseconds, that sets an ignore
threshold for added timestamps. If the difference between the last
timestamp and the new timestamp is lower than this threshold, the new
entry is ignored. Only applicable if <cite>duplicate_policy</cite> is set to
<cite>last</cite>, and if <cite>ignore_max_val_diff</cite> is also set. Available since
RedisTimeSeries version 1.12.0.</p></li>
<li><p><strong>ignore_max_val_diff</strong> (<em>int</em><em> | </em><em>float</em><em> | </em><em>None</em>) -- A non-negative floating point value, that sets an ignore threshold for
added values. If the difference between the last value and the new value
is lower than this threshold, the new entry is ignored. Only applicable
if <cite>duplicate_policy</cite> is set to <cite>last</cite>, and if <cite>ignore_max_time_diff</cite> is
also set. Available since RedisTimeSeries version 1.12.0.</p></li>
<li><p><strong>on_duplicate</strong> (<em>str</em><em> | </em><em>None</em>) -- Use a specific duplicate policy for the specified timestamp. Overrides
the duplicate policy set by <cite>duplicate_policy</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.alter">
<span class="sig-name descname"><span class="pre">alter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retention_msecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duplicate_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_time_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_val_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.alter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.alter" title="Link to this definition">¶</a></dt>
<dd><p>Update an existing time series.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.alter/">https://redis.io/commands/ts.alter/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- The time-series key.</p></li>
<li><p><strong>retention_msecs</strong> (<em>int</em><em> | </em><em>None</em>) -- Maximum age for samples, compared to the highest reported timestamp in
milliseconds. If <cite>None</cite> or <cite>0</cite> is passed, the series is not trimmed at
all.</p></li>
<li><p><strong>labels</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>None</em>) -- A dictionary of label-value pairs that represent metadata labels of the
key.</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em><em> | </em><em>None</em>) -- Memory size, in bytes, allocated for each data chunk. Must be a multiple
of 8 in the range <cite>[48..1048576]</cite>. In earlier versions of the module the
minimum value was different. Changing this value does not affect
existing chunks.</p></li>
<li><p><strong>duplicate_policy</strong> (<em>str</em><em> | </em><em>None</em>) -- <p>Policy for handling multiple samples with identical timestamps. Can be
one of:</p>
<ul>
<li><p>'block': An error will occur and the new value will be ignored.</p></li>
<li><p>'first': Ignore the new value.</p></li>
<li><p>'last': Override with the latest value.</p></li>
<li><p>'min': Only override if the value is lower than the existing value.</p></li>
<li><p>'max': Only override if the value is higher than the existing value.</p></li>
<li><p>'sum': If a previous sample exists, add the new sample to it so
that the updated value is equal to (previous + new). If no
previous sample exists, set the updated value equal to the new
value.</p></li>
</ul>
</p></li>
<li><p><strong>ignore_max_time_diff</strong> (<em>int</em><em> | </em><em>None</em>) -- A non-negative integer value, in milliseconds, that sets an ignore
threshold for added timestamps. If the difference between the last
timestamp and the new timestamp is lower than this threshold, the new
entry is ignored. Only applicable if <cite>duplicate_policy</cite> is set to
<cite>last</cite>, and if <cite>ignore_max_val_diff</cite> is also set. Available since
RedisTimeSeries version 1.12.0.</p></li>
<li><p><strong>ignore_max_val_diff</strong> (<em>int</em><em> | </em><em>float</em><em> | </em><em>None</em>) -- A non-negative floating point value, that sets an ignore threshold for
added values. If the difference between the last value and the new value
is lower than this threshold, the new entry is ignored. Only applicable
if <cite>duplicate_policy</cite> is set to <cite>last</cite>, and if <cite>ignore_max_time_diff</cite> is
also set. Available since RedisTimeSeries version 1.12.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retention_msecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncompressed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duplicate_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_time_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_val_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.create"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.create" title="Link to this definition">¶</a></dt>
<dd><p>Create a new time-series.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.create/">https://redis.io/commands/ts.create/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- The time-series key.</p></li>
<li><p><strong>retention_msecs</strong> (<em>int</em><em> | </em><em>None</em>) -- Maximum age for samples, compared to the highest reported timestamp in
milliseconds. If <cite>None</cite> or <cite>0</cite> is passed, the series is not trimmed at
all.</p></li>
<li><p><strong>uncompressed</strong> (<em>bool</em><em> | </em><em>None</em>) -- Changes data storage from compressed (default) to uncompressed.</p></li>
<li><p><strong>labels</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>None</em>) -- A dictionary of label-value pairs that represent metadata labels of the
key.</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em><em> | </em><em>None</em>) -- Memory size, in bytes, allocated for each data chunk. Must be a multiple
of 8 in the range <cite>[48..1048576]</cite>. In earlier versions of the module the
minimum value was different.</p></li>
<li><p><strong>duplicate_policy</strong> (<em>str</em><em> | </em><em>None</em>) -- <p>Policy for handling multiple samples with identical timestamps. Can be
one of:</p>
<ul>
<li><p>'block': An error will occur and the new value will be ignored.</p></li>
<li><p>'first': Ignore the new value.</p></li>
<li><p>'last': Override with the latest value.</p></li>
<li><p>'min': Only override if the value is lower than the existing value.</p></li>
<li><p>'max': Only override if the value is higher than the existing value.</p></li>
<li><p>'sum': If a previous sample exists, add the new sample to it so
that the updated value is equal to (previous + new). If no
previous sample exists, set the updated value equal to the new
value.</p></li>
</ul>
</p></li>
<li><p><strong>ignore_max_time_diff</strong> (<em>int</em><em> | </em><em>None</em>) -- A non-negative integer value, in milliseconds, that sets an ignore
threshold for added timestamps. If the difference between the last
timestamp and the new timestamp is lower than this threshold, the new
entry is ignored. Only applicable if <cite>duplicate_policy</cite> is set to
<cite>last</cite>, and if <cite>ignore_max_val_diff</cite> is also set. Available since
RedisTimeSeries version 1.12.0.</p></li>
<li><p><strong>ignore_max_val_diff</strong> (<em>int</em><em> | </em><em>float</em><em> | </em><em>None</em>) -- A non-negative floating point value, that sets an ignore threshold for
added values. If the difference between the last value and the new value
is lower than this threshold, the new entry is ignored. Only applicable
if <cite>duplicate_policy</cite> is set to <cite>last</cite>, and if <cite>ignore_max_time_diff</cite> is
also set. Available since RedisTimeSeries version 1.12.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.createrule">
<span class="sig-name descname"><span class="pre">createrule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_size_msec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align_timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.createrule"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.createrule" title="Link to this definition">¶</a></dt>
<dd><p>Create a compaction rule from values added to <cite>source_key</cite> into <cite>dest_key</cite>.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.createrule/">https://redis.io/commands/ts.createrule/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- Key name for source time series.</p></li>
<li><p><strong>dest_key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- Key name for destination (compacted) time series.</p></li>
<li><p><strong>aggregation_type</strong> (<em>str</em>) -- Aggregation type: One of the following:
[<cite>avg</cite>, <cite>sum</cite>, <cite>min</cite>, <cite>max</cite>, <cite>range</cite>, <cite>count</cite>, <cite>first</cite>, <cite>last</cite>, <cite>std.p</cite>,
<cite>std.s</cite>, <cite>var.p</cite>, <cite>var.s</cite>, <cite>twa</cite>]</p></li>
<li><p><strong>bucket_size_msec</strong> (<em>int</em>) -- Duration of each bucket, in milliseconds.</p></li>
<li><p><strong>align_timestamp</strong> (<em>int</em><em> | </em><em>None</em>) -- Assure that there is a bucket that starts at exactly align_timestamp and
align all other buckets accordingly.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.decrby">
<span class="sig-name descname"><span class="pre">decrby</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retention_msecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncompressed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duplicate_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_time_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_val_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.decrby"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.decrby" title="Link to this definition">¶</a></dt>
<dd><p>Decrement the latest sample's of a series. When the specified key does not
exist, a new time series is created.</p>
<p>This command can be used as a counter or gauge that automatically gets history
as a time series.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.decrby/">https://redis.io/commands/ts.decrby/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- The time-series key.</p></li>
<li><p><strong>value</strong> (<em>int</em><em> | </em><em>float</em>) -- Numeric value to subtract (subtrahend).</p></li>
<li><p><strong>timestamp</strong> (<em>int</em><em> | </em><em>str</em><em> | </em><em>None</em>) -- Timestamp of the sample. <cite>*</cite> can be used for automatic timestamp (using
the system clock). <cite>timestamp</cite> must be equal to or higher than the
maximum existing timestamp in the series. When equal, the value of the
sample with the maximum existing timestamp is decreased. If it is
higher, a new sample with a timestamp set to <cite>timestamp</cite> is created, and
its value is set to the value of the sample with the maximum existing
timestamp minus subtrahend.</p></li>
<li><p><strong>retention_msecs</strong> (<em>int</em><em> | </em><em>None</em>) -- Maximum age for samples, compared to the highest reported timestamp in
milliseconds. If <cite>None</cite> or <cite>0</cite> is passed, the series is not trimmed at
all.</p></li>
<li><p><strong>uncompressed</strong> (<em>bool</em><em> | </em><em>None</em>) -- Changes data storage from compressed (default) to uncompressed.</p></li>
<li><p><strong>labels</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>None</em>) -- A dictionary of label-value pairs that represent metadata labels of the
key.</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em><em> | </em><em>None</em>) -- Memory size, in bytes, allocated for each data chunk. Must be a multiple
of 8 in the range <cite>[48..1048576]</cite>. In earlier versions of the module the
minimum value was different.</p></li>
<li><p><strong>duplicate_policy</strong> (<em>str</em><em> | </em><em>None</em>) -- <p>Policy for handling multiple samples with identical timestamps. Can be
one of:</p>
<ul>
<li><p>'block': An error will occur and the new value will be ignored.</p></li>
<li><p>'first': Ignore the new value.</p></li>
<li><p>'last': Override with the latest value.</p></li>
<li><p>'min': Only override if the value is lower than the existing value.</p></li>
<li><p>'max': Only override if the value is higher than the existing value.</p></li>
<li><p>'sum': If a previous sample exists, add the new sample to it so
that the updated value is equal to (previous + new). If no
previous sample exists, set the updated value equal to the new
value.</p></li>
</ul>
</p></li>
<li><p><strong>ignore_max_time_diff</strong> (<em>int</em><em> | </em><em>None</em>) -- A non-negative integer value, in milliseconds, that sets an ignore
threshold for added timestamps. If the difference between the last
timestamp and the new timestamp is lower than this threshold, the new
entry is ignored. Only applicable if <cite>duplicate_policy</cite> is set to
<cite>last</cite>, and if <cite>ignore_max_val_diff</cite> is also set. Available since
RedisTimeSeries version 1.12.0.</p></li>
<li><p><strong>ignore_max_val_diff</strong> (<em>int</em><em> | </em><em>float</em><em> | </em><em>None</em>) -- A non-negative floating point value, that sets an ignore threshold for
added values. If the difference between the last value and the new value
is lower than this threshold, the new entry is ignored. Only applicable
if <cite>duplicate_policy</cite> is set to <cite>last</cite>, and if <cite>ignore_max_time_diff</cite> is
also set. Available since RedisTimeSeries version 1.12.0.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>The timestamp of the sample that was modified or added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.delete"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.delete" title="Link to this definition">¶</a></dt>
<dd><p>Delete all samples between two timestamps for a given time series.</p>
<p>The given timestamp interval is closed (inclusive), meaning that samples whose
timestamp equals <cite>from_time</cite> or <cite>to_time</cite> are also deleted.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.del/">https://redis.io/commands/ts.del/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- The time-series key.</p></li>
<li><p><strong>from_time</strong> (<em>int</em>) -- Start timestamp for the range deletion.</p></li>
<li><p><strong>to_time</strong> (<em>int</em>) -- End timestamp for the range deletion.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of samples deleted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.deleterule">
<span class="sig-name descname"><span class="pre">deleterule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.deleterule"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.deleterule" title="Link to this definition">¶</a></dt>
<dd><p>Delete a compaction rule from <cite>source_key</cite> to <cite>dest_key</cite>.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.deleterule/">https://redis.io/commands/ts.deleterule/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>)</p></li>
<li><p><strong>dest_key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.get"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.get" title="Link to this definition">¶</a></dt>
<dd><p>Get the last sample of <cite>key</cite>.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.get/">https://redis.io/commands/ts.get/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>latest</strong> (<em>bool</em><em> | </em><em>None</em>) -- Used when a time series is a compaction, reports the compacted value of
the latest (possibly partial) bucket.</p></li>
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.incrby">
<span class="sig-name descname"><span class="pre">incrby</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retention_msecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncompressed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duplicate_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_time_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_max_val_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.incrby"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.incrby" title="Link to this definition">¶</a></dt>
<dd><p>Increment the latest sample's of a series. When the specified key does not
exist, a new time series is created.</p>
<p>This command can be used as a counter or gauge that automatically gets history
as a time series.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.incrby/">https://redis.io/commands/ts.incrby/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- The time-series key.</p></li>
<li><p><strong>value</strong> (<em>int</em><em> | </em><em>float</em>) -- Numeric value to be added (addend).</p></li>
<li><p><strong>timestamp</strong> (<em>int</em><em> | </em><em>str</em><em> | </em><em>None</em>) -- Timestamp of the sample. <cite>*</cite> can be used for automatic timestamp (using
the system clock). <cite>timestamp</cite> must be equal to or higher than the
maximum existing timestamp in the series. When equal, the value of the
sample with the maximum existing timestamp is increased. If it is
higher, a new sample with a timestamp set to <cite>timestamp</cite> is created, and
its value is set to the value of the sample with the maximum existing
timestamp plus the addend.</p></li>
<li><p><strong>retention_msecs</strong> (<em>int</em><em> | </em><em>None</em>) -- Maximum age for samples, compared to the highest reported timestamp in
milliseconds. If <cite>None</cite> or <cite>0</cite> is passed, the series is not trimmed at
all.</p></li>
<li><p><strong>uncompressed</strong> (<em>bool</em><em> | </em><em>None</em>) -- Changes data storage from compressed (default) to uncompressed.</p></li>
<li><p><strong>labels</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>None</em>) -- A dictionary of label-value pairs that represent metadata labels of the
key.</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em><em> | </em><em>None</em>) -- Memory size, in bytes, allocated for each data chunk. Must be a multiple
of 8 in the range <cite>[48..1048576]</cite>. In earlier versions of the module the
minimum value was different.</p></li>
<li><p><strong>duplicate_policy</strong> (<em>str</em><em> | </em><em>None</em>) -- <p>Policy for handling multiple samples with identical timestamps. Can be
one of:</p>
<ul>
<li><p>'block': An error will occur and the new value will be ignored.</p></li>
<li><p>'first': Ignore the new value.</p></li>
<li><p>'last': Override with the latest value.</p></li>
<li><p>'min': Only override if the value is lower than the existing value.</p></li>
<li><p>'max': Only override if the value is higher than the existing value.</p></li>
<li><p>'sum': If a previous sample exists, add the new sample to it so
that the updated value is equal to (previous + new). If no
previous sample exists, set the updated value equal to the new
value.</p></li>
</ul>
</p></li>
<li><p><strong>ignore_max_time_diff</strong> (<em>int</em><em> | </em><em>None</em>) -- A non-negative integer value, in milliseconds, that sets an ignore
threshold for added timestamps. If the difference between the last
timestamp and the new timestamp is lower than this threshold, the new
entry is ignored. Only applicable if <cite>duplicate_policy</cite> is set to
<cite>last</cite>, and if <cite>ignore_max_val_diff</cite> is also set. Available since
RedisTimeSeries version 1.12.0.</p></li>
<li><p><strong>ignore_max_val_diff</strong> (<em>int</em><em> | </em><em>float</em><em> | </em><em>None</em>) -- A non-negative floating point value, that sets an ignore threshold for
added values. If the difference between the last value and the new value
is lower than this threshold, the new entry is ignored. Only applicable
if <cite>duplicate_policy</cite> is set to <cite>last</cite>, and if <cite>ignore_max_time_diff</cite> is
also set. Available since RedisTimeSeries version 1.12.0.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>The timestamp of the sample that was modified or added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.info"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.info" title="Link to this definition">¶</a></dt>
<dd><p>Get information of <cite>key</cite>.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.info/">https://redis.io/commands/ts.info/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.madd">
<span class="sig-name descname"><span class="pre">madd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ktv_tuples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.madd"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.madd" title="Link to this definition">¶</a></dt>
<dd><p>Append new samples to one or more time series.</p>
<p>Each time series must already exist.</p>
<p>The method expects a list of tuples. Each tuple should contain three elements:
(<cite>key</cite>, <cite>timestamp</cite>, <cite>value</cite>). The <cite>value</cite> will be appended to the time series
identified by 'key', at the given 'timestamp'.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.madd/">https://redis.io/commands/ts.madd/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ktv_tuples</strong> (<em>List</em><em>[</em><em>Tuple</em><em>[</em><em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em><em>, </em><em>int</em><em> | </em><em>str</em><em>, </em><em>int</em><em> | </em><em>float</em><em>]</em><em>]</em>) -- <dl class="simple">
<dt>A list of tuples, where each tuple contains:</dt><dd><ul class="simple">
<li><p><cite>key</cite>: The key of the time series.</p></li>
<li><p><cite>timestamp</cite>: The timestamp at which the value should be appended.</p></li>
<li><p><cite>value</cite>: The value to append to the time series.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>A list that contains, for each sample, either the timestamp that was used,
or an error, if the sample could not be added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.mget">
<span class="sig-name descname"><span class="pre">mget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.mget"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.mget" title="Link to this definition">¶</a></dt>
<dd><p>Get the last samples matching the specific <cite>filter</cite>.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.mget/">https://redis.io/commands/ts.mget/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filters</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) -- Filter to match the time-series labels.</p></li>
<li><p><strong>with_labels</strong> (<em>bool</em><em> | </em><em>None</em>) -- Include in the reply all label-value pairs representing metadata labels
of the time series.</p></li>
<li><p><strong>select_labels</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) -- Include in the reply only a subset of the key-value pair labels o the
time series.</p></li>
<li><p><strong>latest</strong> (<em>bool</em><em> | </em><em>None</em>) -- Used when a time series is a compaction, reports the compacted value of
the latest possibly partial bucket.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.mrange">
<span class="sig-name descname"><span class="pre">mrange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_size_msec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_min_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_max_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.mrange"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.mrange" title="Link to this definition">¶</a></dt>
<dd><p>Query a range across multiple time-series by filters in forward direction.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.mrange/">https://redis.io/commands/ts.mrange/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_time</strong> (<em>int</em><em> | </em><em>str</em>) -- Start timestamp for the range query. <cite>-</cite> can be used to express the
minimum possible timestamp (0).</p></li>
<li><p><strong>to_time</strong> (<em>int</em><em> | </em><em>str</em>) -- End timestamp for range query, <cite>+</cite> can be used to express the maximum
possible timestamp.</p></li>
<li><p><strong>filters</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) -- Filter to match the time-series labels.</p></li>
<li><p><strong>count</strong> (<em>int</em><em> | </em><em>None</em>) -- Limits the number of returned samples.</p></li>
<li><p><strong>aggregation_type</strong> (<em>str</em><em> | </em><em>None</em>) -- Optional aggregation type. Can be one of [<cite>avg</cite>, <cite>sum</cite>, <cite>min</cite>, <cite>max</cite>,
<cite>range</cite>, <cite>count</cite>, <cite>first</cite>, <cite>last</cite>, <cite>std.p</cite>, <cite>std.s</cite>, <cite>var.p</cite>, <cite>var.s</cite>,
<cite>twa</cite>]</p></li>
<li><p><strong>bucket_size_msec</strong> (<em>int</em><em> | </em><em>None</em>) -- Time bucket for aggregation in milliseconds.</p></li>
<li><p><strong>with_labels</strong> (<em>bool</em><em> | </em><em>None</em>) -- Include in the reply all label-value pairs representing metadata labels
of the time series.</p></li>
<li><p><strong>filter_by_ts</strong> (<em>List</em><em>[</em><em>int</em><em>] </em><em>| </em><em>None</em>) -- List of timestamps to filter the result by specific timestamps.</p></li>
<li><p><strong>filter_by_min_value</strong> (<em>int</em><em> | </em><em>None</em>) -- Filter result by minimum value (must mention also
<cite>filter_by_max_value</cite>).</p></li>
<li><p><strong>filter_by_max_value</strong> (<em>int</em><em> | </em><em>None</em>) -- Filter result by maximum value (must mention also
<cite>filter_by_min_value</cite>).</p></li>
<li><p><strong>groupby</strong> (<em>str</em><em> | </em><em>None</em>) -- Grouping by fields the results (must mention also <cite>reduce</cite>).</p></li>
<li><p><strong>reduce</strong> (<em>str</em><em> | </em><em>None</em>) -- Applying reducer functions on each group. Can be one of [<cite>avg</cite> <cite>sum</cite>,
<cite>min</cite>, <cite>max</cite>, <cite>range</cite>, <cite>count</cite>, <cite>std.p</cite>, <cite>std.s</cite>, <cite>var.p</cite>, <cite>var.s</cite>].</p></li>
<li><p><strong>select_labels</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) -- Include in the reply only a subset of the key-value pair labels of a
series.</p></li>
<li><p><strong>align</strong> (<em>int</em><em> | </em><em>str</em><em> | </em><em>None</em>) -- Timestamp for alignment control for aggregation.</p></li>
<li><p><strong>latest</strong> (<em>bool</em><em> | </em><em>None</em>) -- Used when a time series is a compaction, reports the compacted value of
the latest possibly partial bucket.</p></li>
<li><p><strong>bucket_timestamp</strong> (<em>str</em><em> | </em><em>None</em>) -- Controls how bucket timestamps are reported. Can be one of [<cite>-</cite>, <cite>low</cite>,
<cite>+</cite>, <cite>high</cite>, <cite>~</cite>, <cite>mid</cite>].</p></li>
<li><p><strong>empty</strong> (<em>bool</em><em> | </em><em>None</em>) -- Reports aggregations for empty buckets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.mrevrange">
<span class="sig-name descname"><span class="pre">mrevrange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_size_msec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_min_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_max_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.mrevrange"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.mrevrange" title="Link to this definition">¶</a></dt>
<dd><p>Query a range across multiple time-series by filters in reverse direction.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.mrevrange/">https://redis.io/commands/ts.mrevrange/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_time</strong> (<em>int</em><em> | </em><em>str</em>) -- Start timestamp for the range query. '-' can be used to express the
minimum possible timestamp (0).</p></li>
<li><p><strong>to_time</strong> (<em>int</em><em> | </em><em>str</em>) -- End timestamp for range query, '+' can be used to express the maximum
possible timestamp.</p></li>
<li><p><strong>filters</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) -- Filter to match the time-series labels.</p></li>
<li><p><strong>count</strong> (<em>int</em><em> | </em><em>None</em>) -- Limits the number of returned samples.</p></li>
<li><p><strong>aggregation_type</strong> (<em>str</em><em> | </em><em>None</em>) -- Optional aggregation type. Can be one of [<cite>avg</cite>, <cite>sum</cite>, <cite>min</cite>, <cite>max</cite>,
<cite>range</cite>, <cite>count</cite>, <cite>first</cite>, <cite>last</cite>, <cite>std.p</cite>, <cite>std.s</cite>, <cite>var.p</cite>, <cite>var.s</cite>,
<cite>twa</cite>].</p></li>
<li><p><strong>bucket_size_msec</strong> (<em>int</em><em> | </em><em>None</em>) -- Time bucket for aggregation in milliseconds.</p></li>
<li><p><strong>with_labels</strong> (<em>bool</em><em> | </em><em>None</em>) -- Include in the reply all label-value pairs representing metadata labels
of the time series.</p></li>
<li><p><strong>filter_by_ts</strong> (<em>List</em><em>[</em><em>int</em><em>] </em><em>| </em><em>None</em>) -- List of timestamps to filter the result by specific timestamps.</p></li>
<li><p><strong>filter_by_min_value</strong> (<em>int</em><em> | </em><em>None</em>) -- Filter result by minimum value (must mention also
<cite>filter_by_max_value</cite>).</p></li>
<li><p><strong>filter_by_max_value</strong> (<em>int</em><em> | </em><em>None</em>) -- Filter result by maximum value (must mention also
<cite>filter_by_min_value</cite>).</p></li>
<li><p><strong>groupby</strong> (<em>str</em><em> | </em><em>None</em>) -- Grouping by fields the results (must mention also <cite>reduce</cite>).</p></li>
<li><p><strong>reduce</strong> (<em>str</em><em> | </em><em>None</em>) -- Applying reducer functions on each group. Can be one of [<cite>avg</cite> <cite>sum</cite>,
<cite>min</cite>, <cite>max</cite>, <cite>range</cite>, <cite>count</cite>, <cite>std.p</cite>, <cite>std.s</cite>, <cite>var.p</cite>, <cite>var.s</cite>].</p></li>
<li><p><strong>select_labels</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) -- Include in the reply only a subset of the key-value pair labels of a
series.</p></li>
<li><p><strong>align</strong> (<em>int</em><em> | </em><em>str</em><em> | </em><em>None</em>) -- Timestamp for alignment control for aggregation.</p></li>
<li><p><strong>latest</strong> (<em>bool</em><em> | </em><em>None</em>) -- Used when a time series is a compaction, reports the compacted value of
the latest possibly partial bucket.</p></li>
<li><p><strong>bucket_timestamp</strong> (<em>str</em><em> | </em><em>None</em>) -- Controls how bucket timestamps are reported. Can be one of [<cite>-</cite>, <cite>low</cite>,
<cite>+</cite>, <cite>high</cite>, <cite>~</cite>, <cite>mid</cite>].</p></li>
<li><p><strong>empty</strong> (<em>bool</em><em> | </em><em>None</em>) -- Reports aggregations for empty buckets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.queryindex">
<span class="sig-name descname"><span class="pre">queryindex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.queryindex"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.queryindex" title="Link to this definition">¶</a></dt>
<dd><p>Get all time series keys matching the <cite>filter</cite> list.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.queryindex/">https://redis.io/commands/ts.queryindex/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filters</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.range">
<span class="sig-name descname"><span class="pre">range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_size_msec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_min_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_max_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.range"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.range" title="Link to this definition">¶</a></dt>
<dd><p>Query a range in forward direction for a specific time-series.</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.range/">https://redis.io/commands/ts.range/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- Key name for timeseries.</p></li>
<li><p><strong>from_time</strong> (<em>int</em><em> | </em><em>str</em>) -- Start timestamp for the range query. <cite>-</cite> can be used to express the
minimum possible timestamp (0).</p></li>
<li><p><strong>to_time</strong> (<em>int</em><em> | </em><em>str</em>) -- End timestamp for range query, <cite>+</cite> can be used to express the maximum
possible timestamp.</p></li>
<li><p><strong>count</strong> (<em>int</em><em> | </em><em>None</em>) -- Limits the number of returned samples.</p></li>
<li><p><strong>aggregation_type</strong> (<em>str</em><em> | </em><em>None</em>) -- Optional aggregation type. Can be one of [<cite>avg</cite>, <cite>sum</cite>, <cite>min</cite>, <cite>max</cite>,
<cite>range</cite>, <cite>count</cite>, <cite>first</cite>, <cite>last</cite>, <cite>std.p</cite>, <cite>std.s</cite>, <cite>var.p</cite>, <cite>var.s</cite>,
<cite>twa</cite>]</p></li>
<li><p><strong>bucket_size_msec</strong> (<em>int</em><em> | </em><em>None</em>) -- Time bucket for aggregation in milliseconds.</p></li>
<li><p><strong>filter_by_ts</strong> (<em>List</em><em>[</em><em>int</em><em>] </em><em>| </em><em>None</em>) -- List of timestamps to filter the result by specific timestamps.</p></li>
<li><p><strong>filter_by_min_value</strong> (<em>int</em><em> | </em><em>None</em>) -- Filter result by minimum value (must mention also
<cite>filter by_max_value</cite>).</p></li>
<li><p><strong>filter_by_max_value</strong> (<em>int</em><em> | </em><em>None</em>) -- Filter result by maximum value (must mention also
<cite>filter by_min_value</cite>).</p></li>
<li><p><strong>align</strong> (<em>int</em><em> | </em><em>str</em><em> | </em><em>None</em>) -- Timestamp for alignment control for aggregation.</p></li>
<li><p><strong>latest</strong> (<em>bool</em><em> | </em><em>None</em>) -- Used when a time series is a compaction, reports the compacted value of
the latest possibly partial bucket.</p></li>
<li><p><strong>bucket_timestamp</strong> (<em>str</em><em> | </em><em>None</em>) -- Controls how bucket timestamps are reported. Can be one of [<cite>-</cite>, <cite>low</cite>,
<cite>+</cite>, <cite>high</cite>, <cite>~</cite>, <cite>mid</cite>].</p></li>
<li><p><strong>empty</strong> (<em>bool</em><em> | </em><em>None</em>) -- Reports aggregations for empty buckets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redis.commands.timeseries.commands.TimeSeriesCommands.revrange">
<span class="sig-name descname"><span class="pre">revrange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_size_msec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_min_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_max_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redis/commands/timeseries/commands.html#TimeSeriesCommands.revrange"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#redis.commands.timeseries.commands.TimeSeriesCommands.revrange" title="Link to this definition">¶</a></dt>
<dd><p>Query a range in reverse direction for a specific time-series.</p>
<p><strong>Note</strong>: This command is only available since RedisTimeSeries &gt;= v1.4</p>
<p>For more information see <a class="reference external" href="https://redis.io/commands/ts.revrange/">https://redis.io/commands/ts.revrange/</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytes</em><em> | </em><em>str</em><em> | </em><em>memoryview</em>) -- Key name for timeseries.</p></li>
<li><p><strong>from_time</strong> (<em>int</em><em> | </em><em>str</em>) -- Start timestamp for the range query. <cite>-</cite> can be used to express the
minimum possible timestamp (0).</p></li>
<li><p><strong>to_time</strong> (<em>int</em><em> | </em><em>str</em>) -- End timestamp for range query, <cite>+</cite> can be used to express the maximum
possible timestamp.</p></li>
<li><p><strong>count</strong> (<em>int</em><em> | </em><em>None</em>) -- Limits the number of returned samples.</p></li>
<li><p><strong>aggregation_type</strong> (<em>str</em><em> | </em><em>None</em>) -- Optional aggregation type. Can be one of [<cite>avg</cite>, <cite>sum</cite>, <cite>min</cite>, <cite>max</cite>,
<cite>range</cite>, <cite>count</cite>, <cite>first</cite>, <cite>last</cite>, <cite>std.p</cite>, <cite>std.s</cite>, <cite>var.p</cite>, <cite>var.s</cite>,
<cite>twa</cite>]</p></li>
<li><p><strong>bucket_size_msec</strong> (<em>int</em><em> | </em><em>None</em>) -- Time bucket for aggregation in milliseconds.</p></li>
<li><p><strong>filter_by_ts</strong> (<em>List</em><em>[</em><em>int</em><em>] </em><em>| </em><em>None</em>) -- List of timestamps to filter the result by specific timestamps.</p></li>
<li><p><strong>filter_by_min_value</strong> (<em>int</em><em> | </em><em>None</em>) -- Filter result by minimum value (must mention also
<cite>filter_by_max_value</cite>).</p></li>
<li><p><strong>filter_by_max_value</strong> (<em>int</em><em> | </em><em>None</em>) -- Filter result by maximum value (must mention also
<cite>filter_by_min_value</cite>).</p></li>
<li><p><strong>align</strong> (<em>int</em><em> | </em><em>str</em><em> | </em><em>None</em>) -- Timestamp for alignment control for aggregation.</p></li>
<li><p><strong>latest</strong> (<em>bool</em><em> | </em><em>None</em>) -- Used when a time series is a compaction, reports the compacted value of
the latest possibly partial bucket.</p></li>
<li><p><strong>bucket_timestamp</strong> (<em>str</em><em> | </em><em>None</em>) -- Controls how bucket timestamps are reported. Can be one of [<cite>-</cite>, <cite>low</cite>,
<cite>+</cite>, <cite>high</cite>, <cite>~</cite>, <cite>mid</cite>].</p></li>
<li><p><strong>empty</strong> (<em>bool</em><em> | </em><em>None</em>) -- Reports aggregations for empty buckets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../connections.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">连接到 Redis (Connecting to Redis)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="search.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">RediSearch 命令</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Redis Inc
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/redis/redis-py" aria-label="GitHub">
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
            </svg>
        </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">RedisTimeSeries 命令</a><ul>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands</span></code></a><ul>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.add"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.add()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.alter"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.alter()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.create"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.create()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.createrule"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.createrule()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.decrby"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.decrby()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.delete"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.delete()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.deleterule"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.deleterule()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.get"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.get()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.incrby"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.incrby()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.info"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.info()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.madd"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.madd()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.mget"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.mget()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.mrange"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.mrange()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.mrevrange"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.mrevrange()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.queryindex"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.queryindex()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.range"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.range()</span></code></a></li>
<li><a class="reference internal" href="#redis.commands.timeseries.commands.TimeSeriesCommands.revrange"><code class="docutils literal notranslate"><span class="pre">TimeSeriesCommands.revrange()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=91cf81b4"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>